@import de.htwg.se.learn_duel.model.{Player, Question}
@import play.api.i18n.Messages
@import play.api.mvc.RequestHeader
@import org.webjars.play.WebJarsUtil
@import controllers.AssetsFinder
@import play.api.data._
@import forms.TotpSetupForm.Data
@import com.mohiva.play.silhouette.impl.providers.GoogleTotpCredentials
@import com.mohiva.play.silhouette.impl.providers.GoogleTotpInfo
@import views.html.helper._


@this()(implicit webJarsUtil: WebJarsUtil, assets: AssetsFinder)
@(player: List[Player], user: models.User, totpInfoOpt: Option[GoogleTotpInfo], totpDataOpt: Option[(Form[Data], GoogleTotpCredentials)] = None)(implicit request: RequestHeader, messages: Messages)

@main("Score", Some(user)) {
    <div class="row">
        <div class="col align-self-center">
            <h2>Score!</h2>
            <h5>@player.head.name</h5>


            <p><img src="@assets.path("images/circle-check-3x.png")" class="figure-img img-fluid rounded .img-thumbnail" alt="..."> Correct Answers: </p>
            <ol class="list-unstyled">
            @for(p <- player.head.correctAnswers) {
                <li>@p.text</li>
            }
            </ol>
            <br>


            <p> <img src="@assets.path("images/circle-x-3x.png")" class="figure-img img-fluid rounded .img-thumbnail" alt="..."> Wrong Answers: </p>
            <ol class="list-unstyled">
            @for(p <- player.head.wrongAnswers) {
                <li>@p.text</li>
                <li>Korrekte Antwort ist : @p.answers.find(a => a.id == p.correctAnswer).get</li>
            }
            </ol>

            <p><strong>
                Total Score: @player.head.points
            </strong></p>
        </div>
    </div>
}